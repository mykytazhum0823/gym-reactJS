function maxVal(e,i){return e<=i&&e>=0?e:e<0?0:i}jQuery(".img-comp-overlay").each(function(){var e=jQuery(this).parents(".img-comp-container").find(".img-comp-slider"),i=jQuery(this).find("img"),t=function(){var t=window.event,o=i.offset().left;i.parent().width(maxVal(t.pageX-o,jQuery(".img-comp-img").width())),e.css("left",maxVal(t.pageX-o,jQuery(".img-comp-img").width())+"px")};e.mousedown(function(e){e.preventDefault(),jQuery(window).on("mousemove.slideev",this,t)}),jQuery(window).mouseup(function(e){e.preventDefault(),jQuery(window).off("mousemove.slideev")}),e.on("touchmove",function(t){t.preventDefault();var o=t.touches[0],m=i.offset().left;i.parent().width(maxVal(o.pageX-m,jQuery(".img-comp-img").width())),e.css("left",maxVal(o.pageX-m,jQuery(".img-comp-img").width())+"px")})});